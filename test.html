<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>WebSocket Test</title>
  </head>
  <body>
    <h2>Conexi칩n con WebSocket</h2>
    <pre id="output">Esperando conexi칩n...</pre>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
      const socket = io('http://localhost:4000', {
        transports: ['websocket'],
      });

      socket.on('connect', () => {
        document.getElementById('output').textContent +=
          '游릭 Conectado al WebSocket\n';
      });

      socket.on('estado-actuadores', (data) => {
        document.getElementById('output').textContent +=
          '游니 Estado recibido:\n' + JSON.stringify(data, null, 2) + '\n\n';
      });

      socket.on('disconnect', () => {
        document.getElementById('output').textContent +=
          '游댮 Desconectado del WebSocket\n';
      });
    </script>
  </body>
</html>
